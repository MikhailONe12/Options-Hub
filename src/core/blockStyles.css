:root {
  --block-default-bg: var(--bg-card, #111);
  --block-default-border: var(--border, #333);
  --block-default-radius: 6px;
  --block-default-padding: 14px;
  --block-default-gap: 12px;
  --block-default-font-size: 12px;
  --block-default-title-size: 11px;
}

.block {
  width: var(--block-width, 100%);
  height: var(--block-height, auto);
  background: var(--block-bg, var(--block-default-bg));
  border: 1px solid var(--block-border, var(--block-default-border));
  border-radius: var(--block-radius, var(--block-default-radius));
  font-family: var(--font-mono, 'JetBrains Mono', monospace);
  font-size: var(--block-font-size, var(--block-default-font-size));
  color: var(--block-color, var(--text-primary, #ddd));
  padding: var(--block-padding, var(--block-default-padding));
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: var(--block-gap, var(--block-default-gap));
  position: relative;
  overflow: hidden;
  transition: background .25s, border-color .25s;
}

.block[data-variant="accent"] { border-color: var(--neon-blue); }
.block[data-variant="warn"] { border-color: var(--neon-red); }

.block-title { font-size: var(--block-title-size, var(--block-default-title-size)); font-weight: 700; letter-spacing: 1px; margin: 0 0 4px; text-transform: uppercase; opacity: .8; }

.layout-row { display: flex; flex-direction: row; gap: 16px; width: 100%; align-items: stretch; }
.layout-stack { display: flex; flex-direction: column; gap: 16px; width: 100%; }
.layout-grid { display: grid; gap: 16px; width: 100%; }
.layout-grid[data-cols="2"] { grid-template-columns: repeat(2,1fr); }
.layout-grid[data-cols="3"] { grid-template-columns: repeat(3,1fr); }
.layout-grid[data-cols="4"] { grid-template-columns: repeat(4,1fr); }

@media (max-width: 1100px) { .layout-row { flex-direction: column; } .layout-grid { grid-template-columns: 1fr !important; } }

/* Dynamic page grid */
.page-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(var(--page-grid-columns, 12), 1fr);
  grid-auto-rows: var(--page-grid-row-height, 300px);
  align-items: stretch;
}

.page-grid .mod-block-container {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 8px;
  box-sizing: border-box;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

@media (max-width: 1100px){
  .page-grid { grid-template-columns: 1fr !important; grid-auto-rows: auto; }
  .page-grid .mod-block-container { min-height: 240px; }
}
